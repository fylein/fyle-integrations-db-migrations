CREATE OR REPLACE VIEW extended_export_logs AS
select 
    tl.id as task_log_id,
    tl.workspace_id,
    tl.type as task_log_type,
    tl.task_id as task_log_task_id,
    tl.status as task_log_status,
    tl.detail as task_log_detail,
    tl.created_at as task_log_created_at,
    tl.updated_at as task_log_updated_at,
    e.id as error_id,
    e.type as error_type,
    e.repetition_count as error_repetition_count,
    e.is_resolved as error_is_resolved,
    e.error_title as error_title,
    e.error_detail as error_detail,
    e.created_at as error_created_at,
    e.updated_at as error_updated_at,
    eg.id as expense_group_id,
    eg.workspace_id as expense_group_workspace_id,
    eg.fund_source as expense_group_fund_source,
    eg.description as expense_group_description,
    eg.response_logs as expense_group_response_logs,
    eg.employee_name as expense_group_employee_name,
    eg.export_url as expense_group_export_url,
    eg.created_at as expense_group_created_at,
    eg.exported_at as expense_group_exported_at,
    eg.updated_at as expense_group_updated_at
from task_logs tl
left join errors e on e.expense_group_id = tl.expense_group_id
left join expense_groups eg on eg.id = tl.expense_group_id
;
